# MEG-BIDS-example
 Example usage of BIDS conversion for MEG data using the data2bids function of Fieldtrip


Background: The Brain Imaging Data Structure is a standard for organising
and describing neuroimaging datasets.(BIDS;
https://bids.neuroimaging.io/) MEG-BIDS is the magnetoencephalography
extension of BIDS:
https://bids-specification.readthedocs.io/en/stable/04-modality-specific-files/02-magnetoencephalography.html

A number of options exist to assist in converting a raw MEG dataset to a
BIDS compliant structure. For example: 1. MNE has MNE-BIDS
https://mne.tools/mne-bids/ 2. 'Biscuit' - a python GUI from Macquarie
University, using MNE-BIDS and associated functions.
https://macquarie-meg-research.github.io/Biscuit/ 3. Fieldtrip has
'data2bids'. http://www.fieldtriptoolbox.org/reference/data2bids/

If converting relatively small datasets, or incrementally as project is
running, Biscuit is a very useful tool. Where large datasets are to be
converted, a scripting solution (eg. using MNE-BIDS in python or
data2bids in Fieldtrip/MATLAB seems the best approach (in the interests
of consistency and time)

Below is an example usage of data2bids to generate a BIDS compliant
dataset from MEG data collected on the Elekta Neuromag system at
Swinburne University, in Melbourne, Australia. Author: David White,
davidjwhite33@gmail.com

The dataset is from a multi-site clinical trial exploring a 12-month
nutrional intervention in older adults with subjective memory impairments
or mild cognitive impairment (The 'CANN' trial;
https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6222033/). MEG data is
collected at the Melbourne (Swinburne ) site only, with 2 runs of a
virtual water maze task in addition to 2 resting recordings (6 mins each,
eyes open, fixation cross). Data was acquired at baseline and after 12
months treatment.

Data has been pulled from the Swinburne MEG data storage
(neuro-mgmt1.cc.swin.edu.au:projects/sinuhe_MEG_data), in this case using
rsync to manage a local copy of the acquired data over the course of the
project.

Directory stucture on this storage uses acquisition date to store data in
directories within a project folder, with raw MEG data (.fif) are as
named when acquired. Manual intervention has placed all raw files in a
single directory, with files named according to ID|task|session, eg.
001_rest1_V1.fif. Unfortunately, files have upper or lower case..

The script will generate a bids-compliant structure.
Some additional notes to consider: 
1. README file in bids_dir is not generated by this
script: "a free form text file (README) describing the dataset in more
details SHOULD be provided. The README file MUST be either in ASCII or
UTF-8 encoding". 
2. coordsystem.json sidecars (optional): head coil
coordinates not currently written by data2bids, so this recommended info is
is not in coordsystem.json sidecars ('Biscuit' will read the from the
fif) 
3. channels.tsv files do not contain filter settings, nor info of
the EOG/ECG channels (these just retain raw labels (BIO001))
4. events.json file (optional) could be written ("As with all
other tabular data, _events files may be accompanied by a JSON file
describing the columns in detail")